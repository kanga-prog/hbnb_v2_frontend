{"ast":null,"code":"// src/pages/PlaceDetail.jsx\nimport{useEffect,useState,useRef,useCallback}from\"react\";import{useParams,Link,useNavigate}from\"react-router-dom\";import API from\"../services/api\";import ReviewForm from\"../components/place/ReviewForm\";import ReviewList from\"../components/place/ReviewList\";import ReservationForm from\"../components/place/ReservationForm\";import{getCurrentUser}from\"../utils/auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlaceDetail(){const{id}=useParams();const navigate=useNavigate();const[place,setPlace]=useState(null);const[amenities,setAmenities]=useState([]);const[images,setImages]=useState([]);const[reservations,setReservations]=useState([]);const[currentUser,setCurrentUser]=useState(null);const[selectedImage,setSelectedImage]=useState(null);const reviewListRef=useRef(null);// 🔄 Charger les réservations\nconst loadReservations=useCallback(()=>{API.get(\"/reservations/place/\".concat(id)).then(res=>setReservations(res.data||[])).catch(err=>{console.error(\"Erreur chargement réservations:\",err);setReservations([]);});},[id]);// 🔄 Charger le lieu et ses données associées\nuseEffect(()=>{setCurrentUser(getCurrentUser());API.get(\"/places/\".concat(id,\"/\")).then(res=>{setPlace(res.data);if(res.data.images)setImages(res.data.images);}).catch(err=>console.error(\"Erreur chargement lieu:\",err));API.get(\"/places/\".concat(id,\"/amenities\")).then(res=>{const cleanAmenities=Array.isArray(res.data)?res.data.map(a=>typeof a===\"string\"?a:a.name||String(a)):[];setAmenities(cleanAmenities);}).catch(err=>console.error(\"Erreur chargement équipements:\",err));loadReservations();},[id,loadReservations]);// 🗑️ Supprimer un lieu\nconst handleDelete=async()=>{if(!window.confirm(\"Voulez-vous vraiment supprimer ce lieu ?\"))return;try{await API.delete(\"/places/\".concat(id,\"/\"));alert(\"Lieu supprimé avec succès !\");navigate(\"/\");}catch(err){console.error(\"Erreur suppression lieu:\",err);alert(\"Impossible de supprimer ce lieu.\");}};// ✏️ Modifier un lieu\nconst handleEdit=()=>navigate(\"/places/\".concat(id,\"/edit\"));// 🗑️ Supprimer une image\nconst handleDeleteImage=async imageId=>{if(!window.confirm(\"Supprimer cette image ?\"))return;try{await API.delete(\"/places/\".concat(id,\"/images/\").concat(imageId));setImages(images.filter(img=>img.id!==imageId));}catch(err){console.error(\"Erreur suppression image:\",err);alert(\"Impossible de supprimer l'image.\");}};if(!place)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-10\",children:\"Chargement...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-xl mt-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-blue-600 hover:underline\",children:\"\\u2190 Retour\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mt-2\",children:place.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:place.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 font-semibold\",children:[\"Prix : \",place.price_by_night,\" \\u20AC/nuit\"]}),images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4 my-4\",children:images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:img.url||img,alt:\"\".concat(place.name,\" - \").concat(idx+1),onClick:()=>setSelectedImage(idx),className:\"w-48 h-36 object-cover rounded-lg cursor-pointer transition \\n                  \".concat(selectedImage===idx?\"ring-4 ring-red-500\":\"ring-2 ring-transparent\")}),(currentUser===null||currentUser===void 0?void 0:currentUser.id)===place.owner_id&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteImage(img.id),className:\"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center\",children:\"\\xD7\"})]},idx))}),(currentUser===null||currentUser===void 0?void 0:currentUser.id)===place.owner_id&&/*#__PURE__*/_jsx(\"div\",{className:\"my-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:async e=>{if(!e.target.files[0])return;const formData=new FormData();formData.append(\"file\",e.target.files[0]);try{const res=await API.post(\"/places/\".concat(id,\"/images\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setImages([...images,res.data]);}catch(err){console.error(\"Erreur upload image:\",err);alert(\"Impossible d'uploader l'image.\");}}})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mt-6\",children:\"\\xC9quipements :\"}),amenities.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside\",children:amenities.map((name,idx)=>/*#__PURE__*/_jsx(\"li\",{children:name},idx))}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucun \\xE9quipement disponible.\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mt-6\",children:\"R\\xE9servations :\"}),reservations.length>0?/*#__PURE__*/_jsx(\"ul\",{children:reservations.map(r=>/*#__PURE__*/_jsxs(\"li\",{children:[new Date(r.start_datetime).toLocaleString(),\" \\u2192\",\" \",new Date(r.end_datetime).toLocaleString()]},r.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucune r\\xE9servation pour ce lieu.\"}),/*#__PURE__*/_jsx(ReservationForm,{place_Id:parseInt(id,10),onReservationAdded:loadReservations}),/*#__PURE__*/_jsx(ReviewList,{ref:reviewListRef,place_Id:parseInt(id,10)}),/*#__PURE__*/_jsx(ReviewForm,{place_Id:parseInt(id,10),onReviewAdded:()=>{var _reviewListRef$curren;return(_reviewListRef$curren=reviewListRef.current)===null||_reviewListRef$curren===void 0?void 0:_reviewListRef$curren.refreshReviews();}}),(currentUser===null||currentUser===void 0?void 0:currentUser.id)===place.owner_id&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"bg-blue-500 text-white px-4 py-2 rounded\",children:\"Modifier\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"bg-red-500 text-white px-4 py-2 rounded\",children:\"Supprimer\"})]})]});}","map":{"version":3,"names":["useEffect","useState","useRef","useCallback","useParams","Link","useNavigate","API","ReviewForm","ReviewList","ReservationForm","getCurrentUser","jsx","_jsx","jsxs","_jsxs","PlaceDetail","id","navigate","place","setPlace","amenities","setAmenities","images","setImages","reservations","setReservations","currentUser","setCurrentUser","selectedImage","setSelectedImage","reviewListRef","loadReservations","get","concat","then","res","data","catch","err","console","error","cleanAmenities","Array","isArray","map","a","name","String","handleDelete","window","confirm","delete","alert","handleEdit","handleDeleteImage","imageId","filter","img","className","children","to","description","price_by_night","length","idx","src","url","alt","onClick","owner_id","type","onChange","e","target","files","formData","FormData","append","post","headers","r","Date","start_datetime","toLocaleString","end_datetime","place_Id","parseInt","onReservationAdded","ref","onReviewAdded","_reviewListRef$curren","current","refreshReviews"],"sources":["/home/kanga_prog_unix/hbnb_v2_frontend/src/pages/PlaceDetail.jsx"],"sourcesContent":["// src/pages/PlaceDetail.jsx\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport API from \"../services/api\";\nimport ReviewForm from \"../components/place/ReviewForm\";\nimport ReviewList from \"../components/place/ReviewList\";\nimport ReservationForm from \"../components/place/ReservationForm\";\nimport { getCurrentUser } from \"../utils/auth\";\n\nexport default function PlaceDetail() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [place, setPlace] = useState(null);\n  const [amenities, setAmenities] = useState([]);\n  const [images, setImages] = useState([]);\n  const [reservations, setReservations] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const reviewListRef = useRef(null);\n\n  // 🔄 Charger les réservations\n  const loadReservations = useCallback(() => {\n    API.get(`/reservations/place/${id}`)\n      .then((res) => setReservations(res.data || []))\n      .catch((err) => {\n        console.error(\"Erreur chargement réservations:\", err);\n        setReservations([]);\n      });\n  }, [id]);\n\n  // 🔄 Charger le lieu et ses données associées\n  useEffect(() => {\n    setCurrentUser(getCurrentUser());\n\n    API.get(`/places/${id}/`)\n      .then((res) => {\n        setPlace(res.data);\n        if (res.data.images) setImages(res.data.images);\n      })\n      .catch((err) => console.error(\"Erreur chargement lieu:\", err));\n\n    API.get(`/places/${id}/amenities`)\n      .then((res) => {\n        const cleanAmenities = Array.isArray(res.data)\n          ? res.data.map((a) => (typeof a === \"string\" ? a : a.name || String(a)))\n          : [];\n        setAmenities(cleanAmenities);\n      })\n      .catch((err) => console.error(\"Erreur chargement équipements:\", err));\n\n    loadReservations();\n  }, [id, loadReservations]);\n\n  // 🗑️ Supprimer un lieu\n  const handleDelete = async () => {\n    if (!window.confirm(\"Voulez-vous vraiment supprimer ce lieu ?\")) return;\n    try {\n      await API.delete(`/places/${id}/`);\n      alert(\"Lieu supprimé avec succès !\");\n      navigate(\"/\");\n    } catch (err) {\n      console.error(\"Erreur suppression lieu:\", err);\n      alert(\"Impossible de supprimer ce lieu.\");\n    }\n  };\n\n  // ✏️ Modifier un lieu\n  const handleEdit = () => navigate(`/places/${id}/edit`);\n\n  // 🗑️ Supprimer une image\n  const handleDeleteImage = async (imageId) => {\n    if (!window.confirm(\"Supprimer cette image ?\")) return;\n    try {\n      await API.delete(`/places/${id}/images/${imageId}`);\n      setImages(images.filter((img) => img.id !== imageId));\n    } catch (err) {\n      console.error(\"Erreur suppression image:\", err);\n      alert(\"Impossible de supprimer l'image.\");\n    }\n  };\n\n  if (!place) return <p className=\"text-center mt-10\">Chargement...</p>;\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-xl mt-6\">\n      <Link to=\"/\" className=\"text-blue-600 hover:underline\">← Retour</Link>\n      <h1 className=\"text-3xl font-bold mt-2\">{place.name}</h1>\n      <p className=\"mt-2\">{place.description}</p>\n      <p className=\"mt-2 font-semibold\">Prix : {place.price_by_night} €/nuit</p>\n\n      {/* Images */}\n      {images.length > 0 && (\n        <div className=\"flex flex-wrap gap-4 my-4\">\n          {images.map((img, idx) => (\n            <div key={idx} className=\"relative\">\n              <img\n                src={img.url || img}\n                alt={`${place.name} - ${idx + 1}`}\n                onClick={() => setSelectedImage(idx)}\n                className={`w-48 h-36 object-cover rounded-lg cursor-pointer transition \n                  ${selectedImage === idx ? \"ring-4 ring-red-500\" : \"ring-2 ring-transparent\"}`}\n              />\n              {currentUser?.id === place.owner_id && (\n                <button\n                  onClick={() => handleDeleteImage(img.id)}\n                  className=\"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center\"\n                >\n                  ×\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Upload image */}\n      {currentUser?.id === place.owner_id && (\n        <div className=\"my-4\">\n          <input\n            type=\"file\"\n            onChange={async (e) => {\n              if (!e.target.files[0]) return;\n              const formData = new FormData();\n              formData.append(\"file\", e.target.files[0]);\n              try {\n                const res = await API.post(`/places/${id}/images`, formData, {\n                  headers: { \"Content-Type\": \"multipart/form-data\" },\n                });\n                setImages([...images, res.data]);\n              } catch (err) {\n                console.error(\"Erreur upload image:\", err);\n                alert(\"Impossible d'uploader l'image.\");\n              }\n            }}\n          />\n        </div>\n      )}\n\n      {/* Équipements */}\n      <h3 className=\"text-xl font-semibold mt-6\">Équipements :</h3>\n      {amenities.length > 0 ? (\n        <ul className=\"list-disc list-inside\">\n          {amenities.map((name, idx) => <li key={idx}>{name}</li>)}\n        </ul>\n      ) : (\n        <p>Aucun équipement disponible.</p>\n      )}\n\n      {/* Réservations */}\n      <h3 className=\"text-xl font-semibold mt-6\">Réservations :</h3>\n      {reservations.length > 0 ? (\n        <ul>\n          {reservations.map((r) => (\n            <li key={r.id}>\n              {new Date(r.start_datetime).toLocaleString()} →{\" \"}\n              {new Date(r.end_datetime).toLocaleString()}\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>Aucune réservation pour ce lieu.</p>\n      )}\n\n      <ReservationForm place_Id={parseInt(id, 10)} onReservationAdded={loadReservations} />\n\n      {/* Avis */}\n      <ReviewList ref={reviewListRef} place_Id={parseInt(id, 10)} />\n      <ReviewForm place_Id={parseInt(id, 10)} onReviewAdded={() => reviewListRef.current?.refreshReviews()} />\n\n      {/* Actions propriétaire */}\n      {currentUser?.id === place.owner_id && (\n        <div className=\"flex gap-4 mt-6\">\n          <button onClick={handleEdit} className=\"bg-blue-500 text-white px-4 py-2 rounded\">Modifier</button>\n          <button onClick={handleDelete} className=\"bg-red-500 text-white px-4 py-2 rounded\">Supprimer</button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}